pipeline {
    agent any 

    stages {
        stage('Build') { 
            steps { 
                	withMaven(maven : 'hhman') {
			sh 'maven clean compile' 
                                                   }
                   }
                        }
        stage('Test'){
            steps {
                withMaven(maven : 'hhman') {
		sh 'mvn test'
                			   }
                  }
                      }
        stage('Deploy') {
            steps {
                 withMaven(maven : 'hhman') {
		 sh 'make publish'
            				    }
                  }
                        }
	    }
	}